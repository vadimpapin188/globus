<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ì–ª–æ–±—É—Å –î–µ—Ç—è–º - –§–∏—Ä–º–µ–Ω–Ω—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ–∏—Å–∫</title>
  <style>
    :root {
      --kids-primary: #ffcc00;
      --kids-bg: #e0f7fa;
      --kids-text: #2c3e50;
      --sidebar-width: 200px;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--kids-bg);
      color: var(--kids-text);
      display: flex;
      min-height: 100vh;
    }

    /* --- –°–ê–ô–î–ë–ê–† --- */
    nav.sidebar {
      width: var(--sidebar-width);
      background-color: #34495e;
      position: fixed;
      height: 100%;
      z-index: 100;
      transition: 0.3s;
    }
    nav.sidebar.collapsed { width: 50px; }
    nav.sidebar ul { list-style: none; padding: 0; }
    nav.sidebar ul li a { color: white; padding: 15px; display: block; text-decoration: none; white-space: nowrap; overflow: hidden; }

    /* --- –ö–û–ù–¢–ï–ù–¢ --- */
    .content-area {
      flex-grow: 1;
      margin-left: var(--sidebar-width);
      display: flex;
      flex-direction: column;
      transition: 0.3s;
    }
    .content-area.shifted { margin-left: 50px; }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 40px;
    }

    .brand-section h1 { margin: 0; font-size: 40px; color: #ff6f00; }
    .brand-section span { font-size: 14px; background: #ffcc00; padding: 2px 8px; border-radius: 10px; }

    .search-section { display: flex; border-radius: 30px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    #search-input { padding: 15px 25px; border: none; width: 350px; font-size: 18px; outline: none; }
    #search-button { padding: 15px 30px; background-color: #4caf50; color: white; border: none; cursor: pointer; font-weight: bold; }

    main { padding: 0 40px; }
    
    /* –°–æ–æ–±—â–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ */
    #status-display { margin-top: 20px; font-weight: bold; min-height: 24px; }
    .warning { color: #e74c3c; display: none; background: #ffdada; padding: 10px; border-radius: 5px; }
    .safe { color: #27ae60; }
    .checking { color: #2980b9; }

    footer { margin-top: auto; text-align: center; padding: 20px; background: rgba(255,255,255,0.5); }
  </style>
</head>
<body>

  <nav class="sidebar" id="sidebar">
    <button id="menu-toggle" style="position:absolute; right:-15px; top:10px; border-radius:50%; cursor:pointer;">¬´</button>
    <ul>
     <li><a href="kidssecurity.html">üõ°Ô∏è <span>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</span></a></li>
    </ul>
  </nav>

  <div class="content-area" id="content-area">
    <div class="top-bar">
      <div class="brand-section">
        <h1>–ì–ª–æ–±—É—Å <span>–î–ï–¢–Ø–ú</span></h1>
      </div>
      <div class="search-section">
        <input id="search-input" type="text" placeholder="–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ–∏—Å–∫...">
        <button id="search-button">–ò—Å–∫–∞—Ç—å!</button>
      </div>
    </div>

    <main>
      <div id="status-display"></div>
      <div id="warning-msg" class="warning"></div>
      <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¥–µ—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º. –ó–¥–µ—Å—å –≤—Å–µ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –ì–ª–æ–±—É—Å–∞.</p>
    </main>

    <footer>
      ¬© –ì–ª–æ–±—É—Å –î–µ—Ç—è–º. 2025. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–∫–∞ globushomett.
    </footer>
  </div>

  <script>
    const input = document.getElementById('search-input');
    const button = document.getElementById('search-button');
    const statusDisplay = document.getElementById('status-display');
    const warningMsg = document.getElementById('warning-msg');

    // –ë–∞–∑–∞ —Å–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–µ—Å—Ç–∏ –∫ –æ–ø–∞—Å–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
    const DANGER_WORDS = ['–≤–∏—Ä—É—Å', '–≤–∑–ª–æ–º', '–ø–ª–æ—Ö–æ–π', '—è–¥', '–æ–ø–∞—Å–Ω–æ—Å—Ç—å', '–¥—É—Ä–∞–∫', '–ø–∏–≤–æ', '–ø–∏–≤–∞—Å', '–∞–ª–∫–æ–≥–æ–ª—å', '–∫–æ–Ω—å—è–∫'];

   async function checkAndSearch() {
    // 1. –ë–µ—Ä–µ–º —Ç–µ–∫—Å—Ç, –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
    let query = input.value.toLowerCase().trim();
    if (!query) return;

    // –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –æ—à–∏–±–∫–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏
    warningMsg.style.display = 'none';
    statusDisplay.className = 'checking';
    statusDisplay.textContent = "üîç –ì–ª–æ–±—É—Å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –±–∞–∑—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...";

    // 2. –ë–ê–ó–ê –û–ü–ê–°–ù–´–• –°–õ–û–í (–ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ–±—ã —Å–ª–æ–≤–æ "–∫—É—Ä–µ–Ω–∏–µ" –±—ã–ª–æ –∑–¥–µ—Å—å)
    const DANGER_WORDS = ['–∫—É—Ä–µ–Ω–∏–µ', '—Å–∏–≥–∞—Ä–µ—Ç—ã', '–≤–∏—Ä—É—Å', '–≤–∑–ª–æ–º', '—è–¥', '–∞–ª–∫–æ–≥–æ–ª—å'];

    // 3. –°–ê–ú–ê –ü–†–û–í–ï–†–ö–ê (–°–∞–º—ã–π –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç!)
    const hasDanger = DANGER_WORDS.some(word => query.includes(word));

    // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è "–≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞"
    await new Promise(r => setTimeout(r, 1000));

    if (hasDanger) {
        // –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –í–°–Å –¢–£–¢
        statusDisplay.textContent = "";
        warningMsg.textContent = "‚ö†Ô∏è –ì–ª–æ–±—É—Å –î–µ—Ç—è–º: –û–±–Ω–∞—Ä—É–∂–µ–Ω –æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç! –ó–∞–ø—Ä–æ—Å '" + query + "' –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.";
        warningMsg.style.display = 'block';
        input.value = ""; // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ, —á—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–ª–æ—Å—å
        return; // <--- –≠–¢–ê –ö–û–ú–ê–ù–î–ê –ù–ï –î–ê–°–¢ –ö–û–î–£ –ò–î–¢–ò –î–ê–õ–¨–®–ï
    }

    // 4. –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞, –∏–¥–µ–º –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ—à–∏–±–æ–∫
    statusDisplay.textContent = "‚ú® –ë–µ–∑–æ–ø–∞—Å–Ω–æ! –û—Ç–∫—Ä—ã–≤–∞—é –ì–ª–æ–±—É—Å...";
    statusDisplay.className = 'safe';

    const resp = await fetch(`https://speller.yandex.net/services/spellservice.json/checkText?text=${encodeURIComponent(query)}`);
    const data = await resp.json();
    let finalQuery = query;
    data.forEach(err => { if(err.s.length > 0) finalQuery = finalQuery.replace(err.word, err.s[0]); });

    // 5. –ü–ï–†–ï–•–û–î (—Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ —Å–ª–æ–≤–∞ "–∫—É—Ä–µ–Ω–∏–µ")
    setTimeout(() => {
        window.location.href = 'https://sites.google.com/view/globushomett/' + encodeURIComponent(finalQuery);
    }, 500);
}

    button.addEventListener('click', checkAndSearch);
    input.addEventListener('keydown', (e) => { if(e.key === 'Enter') checkAndSearch(); });

    // –°–∞–π–¥–±–∞—Ä
    const sidebar = document.getElementById('sidebar');
    const content = document.getElementById('content-area');
    document.getElementById('menu-toggle').addEventListener('click', function() {
        const isCol = sidebar.classList.toggle('collapsed');
        content.classList.toggle('shifted', isCol);
        this.textContent = isCol ? '¬ª' : '¬´';
    });
  </script>
</body>
</html>
